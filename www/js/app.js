!function(){"use strict";angular.module("GigKeeper",["ng","ngResource","ui.router","ui.router.title","kendo.directives","google.places","ui.bootstrap","ui.grid","ui.grid.edit","ui.grid.selection"])}();
!function(){"use strict";angular.module("GigKeeper").controller("contact",[function(){}])}();
!function(){"use strict";angular.module("GigKeeper").controller("contractors",["$scope","$uibModal","dialogs","Contractor",function(e,t,n,o){function r(){o.data.index().$promise.then(function(t){e.gridOptions.data=t}).catch(function(e){console.error(e)})}function a(e){t.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"/template/contractorEdit.html",controller:"ContractorEditController",resolve:{contractor:function(){return e}}}).result.then(function(){r()},function(){})}e.selected=null,e.gridOptions={enableRowSelection:!0,enableSelectAll:!1,multiSelect:!1,enableRowHeaderSelection:!1,enableSorting:!0,columnDefs:[{name:"Name",field:"name",type:"string"},{name:"Contact",field:"contact",type:"string"},{name:"Phone",field:"phone",type:"string"},{name:"Email",field:"email",type:"string"}],data:[],onRegisterApi:function(t){t.selection.on.rowSelectionChanged(e,function(t){t.isSelected?e.selected=t:e.selected=null})}},e.selected=null,r(),e.add=function(){a({})},e.editSelected=function(){a(e.selected.entity)},e.deleteSelected=function(){n.confirm({okText:"Delete",title:"Confirm Delete",message:"Are you sure you want to delete "+e.selected.entity.name+"?"}).then(function(){o.data.delete({id:e.selected.entity.id}).$promise.then(function(){r()}).catch(function(e){console.error(e)})},function(){})}}]),angular.module("GigKeeper").controller("ContractorEditController",["$scope","$uibModalInstance","Contractor","contractor",function(e,t,n,o){e.form={id:o.id,name:o.name,contact:o.contact,address1:o.address1,address2:o.address2,city:o.city,region:o.region,postalCode:o.postalCode,phone:o.phone,email:o.email,web:o.web},e.submit=function(r){if(r.$invalid)e.errorMessage="Check form for errors";else{var a=angular.element("#save_button");a.button("loading");var i,c={name:e.form.name,contact:e.form.contact,address1:e.form.address1,address2:e.form.address2,city:e.form.city,region:e.form.region,postalCode:e.form.postalCode,phone:e.form.phone,email:e.form.email,web:e.form.web};i=o.id?n.data.update({id:o.id},c).$promise:n.data.create({},c).$promise,i.then(function(){t.close(),a.button("reset")}).catch(function(t){e.errorMessage=t.message,a.button("reset")})}},e.cancel=function(){t.dismiss("cancel")}}])}();
!function(){"use strict";angular.module("GigKeeper").controller("gigs",["$scope","$uibModal","uiGridConstants","dialogs","contractors","Gig","UrlBuilder",function(e,t,n,o,a,i,r){function l(){i.data.index().$promise.then(function(t){e.gridOptions.data=t}).catch(function(e){console.error(e)})}function c(e){t.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"/template/gigEdit.html",controller:"GigEditController",resolve:{gig:function(){return e}}}).result.then(function(){l()},function(){})}e.selected=null,e.gridOptions={enableFiltering:!0,enableRowHeaderSelection:!1,enableRowSelection:!0,enableSelectAll:!1,enableSorting:!0,multiSelect:!1,paginationPageSize:10,paginationPageSizes:[10,25,50,100],showColumnFooter:!0,showGridFooter:!0,columnDefs:[{name:"Contractor",field:"contractor.name",type:"string",filter:{type:n.filter.SELECT,selectOptions:a.map(function(e){return{value:e.name,label:e.name}})}},{name:"Description",field:"name",type:"string"},{name:"Location",field:"place.name",type:"string"},{name:"Distance",field:"distance",type:"string",cellFilter:"number:1",footerCellFilter:"number:1",cellClass:"text-right",footerCellClass:"text-right",aggregationHideLabel:!0,aggregationType:n.aggregationTypes.sum},{name:"Travel Time",field:"duration",type:"number",cellFilter:"number:0",footerCellFilter:"number:0",cellClass:"text-right",footerCellClass:"text-right",aggregationHideLabel:!0,aggregationType:n.aggregationTypes.sum},{name:"Start",field:"startDate",type:"date",cellFilter:'date:"MM/dd/yyyy hh:mm a"'},{name:"End",field:"endDate",type:"date",cellFilter:'date:"MM/dd/yyyy hh:mm a"'}],data:[],onRegisterApi:function(t){t.selection.on.rowSelectionChanged(e,function(t){t.isSelected?e.selected=t:e.selected=null})}},e.selected=null,l(),e.add=function(){c({})},e.editSelected=function(){c(e.selected.entity)},e.deleteSelected=function(){o.confirm({okText:"Delete",title:"Confirm Delete",message:"Are you sure you want to delete "+e.selected.entity.name+"?"}).then(function(){i.data.delete({id:e.selected.entity.id}).$promise.then(function(){l()}).catch(function(e){console.error(e)})},function(){})}}]),angular.module("GigKeeper").controller("GigEditController",["$scope","$uibModalInstance","Contractor","Tag","Gig","gig","UrlBuilder",function(e,t,n,o,a,i,r){e.contractorDropdownOptions=n.getDropdownOptions(),e.descriptionsComboOptions={autoBind:!1,dataSource:new kendo.data.DataSource({transport:{read:{url:r.build("/api/v1/gig/descriptions")}}}),dataTextField:"name",dataValueField:"name"},e.distanceOptions={decimals:1,min:0,format:"n1"},e.durationOptions={decimals:0,min:0,format:"n0"},e.tagDropdownOptions=o.getDropdownOptions(),e.form={name:i.name,place:angular.fromJson(i.place),distance:i.distance,duration:i.duration,startDate:new Date(i.startDate),endDate:new Date(i.endDate),contractorId:i.contractorId,tags:i.tags,notes:i.notes},e.estimateDistance=function(){if(e.form.place){var t=angular.element("#estimate_button");t.button("loading"),a.data.distanceTo({placeId:e.form.place.place_id}).$promise.then(function(n){if(n){var o=n.rows[0].elements[0];e.form.distance=o.distance.value/1e3/1.609344,e.form.duration=o.duration.value/60}else console.log(n);t.button("reset")}).catch(function(e){console.log(e),t.button("reset")})}else console.log("Please select a location")},e.next=function(){},e.prev=function(){},e.submit=function(n){if(n.$invalid)e.errorMessage="Check form for errors";else{var o=angular.element("#save_button");o.button("loading");var r,l={name:e.form.name,place:e.form.place,distance:e.form.distance,duration:e.form.duration,startDate:e.form.startDate,endDate:e.form.endDate,contractorId:e.form.contractorId,tags:e.form.tags,notes:e.form.notes};r=i.id?a.data.update({id:i.id},l).$promise:a.data.create({},l).$promise,r.then(function(){t.close(),o.button("reset")}).catch(function(t){e.errorMessage=t.message,o.button("reset")})}},e.cancel=function(){t.dismiss("cancel")}}])}();
!function(){"use strict";angular.module("GigKeeper").controller("home",["$rootScope","$scope","$state","$http","UrlBuilder",function(a,t,e,o,r){t.submitLoginForm=function(s){if(s.$valid){var i={email:t.email,password:t.password};o.post(r.build("/api/v1/login"),i).then(function(t){200===t.status?(a.profile=t.data,e.go("my")):alert("Bad username or password")}).catch(function(a){a.data&&a.data.message?alert(a.data.message):alert("System error")})}}}])}();
!function(){"use strict";angular.module("GigKeeper").controller("profile",["$scope","$http","UrlBuilder",function(e,o,r){e.form={},o.get(r.build("/api/v1/user/profile")).then(function(o){e.form.email=o.data.email,e.form.homeBaseAddress=o.data.profile.homeBaseAddress}).catch(function(e){console.error(e)})}])}();
!function(){"use strict";angular.module("GigKeeper").controller("settings",["$scope","Settings","settings",function(e,t,o){e.homeBaseOptions={placeIdOnly:!0},e.form={homeBasePlace:o.homeBasePlace},e.submit=function(o){if(o.$invalid)e.errorMessage="Check form for errors";else{var s=angular.element("#save_button");s.button("loading");var a={homeBasePlace:e.form.homeBasePlace};t.data.update({},a).$promise.then(function(){s.button("reset")}).catch(function(t){e.errorMessage=t.message,s.button("reset")})}}}])}();
!function(){"use strict";angular.module("GigKeeper").controller("tags",["$scope","$uibModal","dialogs","Tag",function(e,t,n,o){function i(){o.data.index().$promise.then(function(t){e.gridOptions.data=t}).catch(function(e){console.error(e)})}function l(e){t.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"/template/tagEdit.html",controller:"TagEditController",resolve:{tag:function(){return e}}}).result.then(function(){i()},function(){})}e.selected=null,e.gridOptions={enableRowSelection:!0,enableSelectAll:!1,multiSelect:!1,enableRowHeaderSelection:!1,enableSorting:!0,columnDefs:[{name:"Name",field:"name",type:"string"},{name:"Description",field:"description"}],data:[],onRegisterApi:function(t){t.selection.on.rowSelectionChanged(e,function(t){t.isSelected?e.selected=t:e.selected=null})}},e.selected=null,i(),e.add=function(){l({})},e.editSelected=function(){l(e.selected.entity)},e.deleteSelected=function(){n.confirm({okText:"Delete",title:"Confirm Delete",message:"Are you sure you want to delete "+e.selected.entity.name+"?"}).then(function(){o.data.delete({id:e.selected.entity.id}).$promise.then(function(){i()}).catch(function(e){console.error(e)})},function(){})}}]),angular.module("GigKeeper").controller("TagEditController",["$scope","$uibModalInstance","Tag","tag",function(e,t,n,o){e.form={id:o.id,name:o.name,description:o.description},e.submit=function(i){if(i.$invalid)e.errorMessage="Check form for errors";else{var l=angular.element("#save_button");l.button("loading");var a,c={name:e.form.name,description:e.form.description};a=o.id?n.data.update({id:o.id},c).$promise:n.data.create({},c).$promise,a.then(function(){t.close(),l.button("reset")}).catch(function(t){e.errorMessage=t.message,l.button("reset")})}},e.cancel=function(){t.dismiss("cancel")}}])}();
!function(){"use strict";angular.module("GigKeeper").config(["$stateProvider","$urlRouterProvider","$titleProvider",function(t,e,r){e.otherwise("/"),t.state({name:"home",url:"/",controller:"home",templateUrl:"/template/home.html",public:!0,resolve:{$title:function(){return"Home"}}}).state({name:"my",url:"/my",templateUrl:"/template/my.html",resolve:{$title:function(){return"My Stuff"}}}).state({name:"my.gigs",url:"/gigs",controller:"gigs",templateUrl:"/template/gigs.html",resolve:{contractors:function(t){return t.data.index().$promise},$title:function(){return"My Gigs"}}}).state({name:"my.contractors",url:"/contractors",controller:"contractors",templateUrl:"/template/contractors.html",resolve:{$title:function(){return"My Contractors"}}}).state({name:"my.tags",url:"/tags",controller:"tags",templateUrl:"/template/tags.html",resolve:{$title:function(){return"My Tags"}}}).state({name:"my.settings",url:"/settings",controller:"settings",templateUrl:"/template/settings.html",resolve:{settings:function(t){return t.data.index().$promise},$title:function(){return"Settings"}}}).state({name:"about",url:"/about",templateUrl:"/template/about.html",resolve:{$title:function(){return"About"}},public:!0}).state("contact",{name:"contact",url:"/contact",templateUrl:"/template/contact.html",resolve:{$title:function(){return"Contact"}},public:!0}).state({name:"profile",url:"/profile",controller:"profile",templateUrl:"/template/profile.html",resolve:{$title:function(){return"My Profile"}}}),r.documentTitle(["$rootScope",function(t){var e="GigKeeper";return t.$title&&(e=t.$title+" - "+e),e}])}])}();
!function(){"use strict";angular.module("GigKeeper").run(["$rootScope","$state","$http","UrlBuilder",function(t,o,e,n){t.profile=!1,t.$on("$stateChangeStart",function(u,i){i.public||e.get(n.build("/api/v1/user/profile")).then(function(e){e.data.active?t.profile=e.data:(t.profile=null,u.preventDefault(),o.go("home"))}).catch(function(t){u.preventDefault(),o.go("home")})}),t.logout=function(){e.post(n.build("/api/v1/logout")).then(function(e){t.profile=null,o.go("home")}).catch(function(t){console.log(t)})}}])}();
!function(){"use strict";angular.module("GigKeeper").factory("Contractor",["$resource",function(t){return{data:t("/api/v1/contractor",{},{index:{action:"index",method:"GET",isArray:!0},create:{action:"create",method:"POST"},update:{action:"update",method:"POST",url:"/api/v1/contractor/:id"},delete:{action:"delete",method:"DELETE",url:"/api/v1/contractor/:id"}}),getModel:function(){return kendo.data.Model.define({id:"id",fields:{name:{type:"string"},address1:{type:"string"},address2:{type:"string"},city:{type:"string"},region:{type:"string"},postalCode:{type:"string"},phone:{type:"string"},email:{type:"string"},web:{type:"string"}}})},getDataSource:function(){return new kendo.data.DataSource({transport:{read:{url:"/api/v1/contractor"}},schema:{model:this.getModel()}})},getDropdownOptions:function(){return{dataSource:this.getDataSource(),autoBind:!0,dataTextField:"name",dataValueField:"id",valuePrimitive:!0}}}}])}();
!function(){"use strict";angular.module("GigKeeper").factory("dialogs",["$uibModal",function(e){return{confirm:function(n){var t=Object.assign({okText:"OK",cancelText:"Cancel",title:"Confirm",message:"Are you sure?"},n);return e.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"/dialogs/confirm.html",resolve:{dialogSettings:function(){return t}},controller:["$scope","$uibModalInstance","dialogSettings",function(e,n,t){e.dialogSettings=t,e.ok=function(){n.close()},e.cancel=function(){n.dismiss("cancel")}}]}).result}}}])}();
!function(){"use strict";angular.module("GigKeeper").factory("Gig",["$resource",function(t){return{data:t("/api/v1/gig",{},{index:{action:"index",method:"GET",isArray:!0},create:{action:"create",method:"POST"},update:{action:"update",method:"POST",url:"/api/v1/gig/:id"},delete:{action:"delete",method:"DELETE",url:"/api/v1/gig/:id"},distance:{action:"distance",method:"GET",url:"/api/v1/gig/:id/distance"},distanceTo:{action:"distanceTo",method:"GET",url:"/api/v1/gig/distance/:placeId"}}),getModel:function(){return kendo.data.Model.define({id:"id",fields:{name:{type:"string"},location:{type:"string"},startDate:{type:"string"},endDate:{type:"string"},contractorId:{type:"string"}}})},getDataSource:function(){return new kendo.data.DataSource({transport:{read:{url:"/api/v1/gig"}},schema:{model:this.getModel()}})},getDropdownOptions:function(){return{dataSource:this.getDataSource(),autoBind:!1,dataTextField:"name",dataValueField:"id"}}}}])}();
!function(){"use strict";angular.module("GigKeeper").factory("Settings",["$resource",function(t){return{data:t("/api/v1/settings",{},{index:{action:"index",method:"GET"},update:{action:"update",method:"POST",url:"/api/v1/settings"}})}}])}();
!function(){"use strict";angular.module("GigKeeper").factory("SoftErrorInterceptor",["$uibModal",function(e){function n(n){window.test=n;var t=Object.assign({okText:"OK",cancelText:"Cancel",title:"Confirm",message:"Are you sure?"},dialogOptions);e.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"/dialogs/confirm.html",resolve:{dialogSettings:function(){return t}},controller:["$scope","$uibModalInstance","dialogSettings",function(e,n,t){e.dialogSettings=t,e.ok=function(){n.close()},e.cancel=function(){n.dismiss("cancel")}}]})}return{response:function(e){return e},responseError:function(e){return n(e),$q.reject(e)}}}])}();
!function(){"use strict";angular.module("GigKeeper").factory("Tag",["$resource",function(e){return{data:e("/api/v1/tag",{},{index:{action:"index",method:"GET",isArray:!0},create:{action:"create",method:"POST"},update:{action:"update",method:"POST",url:"/api/v1/tag/:id"},delete:{action:"delete",method:"DELETE",url:"/api/v1/tag/:id"}}),getModel:function(){return kendo.data.Model.define({id:"id",fields:{name:{type:"string"},description:{type:"string"}}})},getDataSource:function(){return new kendo.data.DataSource({transport:{read:{url:"/api/v1/tag"}},schema:{model:this.getModel()}})},getDropdownOptions:function(){return{dataSource:this.getDataSource(),autoBind:!0,dataTextField:"name",dataValueField:"id"}}}}])}();
!function(){"use strict";angular.module("GigKeeper").factory("UrlBuilder",[function(){return{build:function(r){var t=window.appConfig.api;return"http://"+t.host+":"+t.port+r}}}])}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXJzL2NvbnRhY3QuanMiLCJjb250cm9sbGVycy9jb250cmFjdG9ycy5qcyIsImNvbnRyb2xsZXJzL2dpZ3MuanMiLCJjb250cm9sbGVycy9ob21lLmpzIiwiY29udHJvbGxlcnMvcHJvZmlsZS5qcyIsImNvbnRyb2xsZXJzL3NldHRpbmdzLmpzIiwiY29udHJvbGxlcnMvdGFncy5qcyIsImluaXQvY29uZmlnLmpzIiwiaW5pdC9ydW4uanMiLCJmYWN0b3J5L2NvbnRyYWN0b3IuanMiLCJmYWN0b3J5L2RpYWxvZ3MuanMiLCJmYWN0b3J5L2dpZy5qcyIsImZhY3Rvcnkvc2V0dGluZ3MuanMiLCJmYWN0b3J5L3NvZnRFcnJvckludGVyY2VwdG9yLmpzIiwiZmFjdG9yeS90YWcuanMiLCJmYWN0b3J5L3VybEJ1aWxkZXIuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkdWliTW9kYWwiLCJkaWFsb2dzIiwiQ29udHJhY3RvciIsImxvYWQiLCJkYXRhIiwiaW5kZXgiLCIkcHJvbWlzZSIsInRoZW4iLCJjb250cmFjdG9ycyIsImdyaWRPcHRpb25zIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJlZGl0RGlhbG9nIiwiY29udHJhY3RvciIsIm9wZW4iLCJhcmlhTGFiZWxsZWRCeSIsImFyaWFEZXNjcmliZWRCeSIsInRlbXBsYXRlVXJsIiwicmVzb2x2ZSIsInJlc3VsdCIsInNlbGVjdGVkIiwiZW5hYmxlUm93U2VsZWN0aW9uIiwiZW5hYmxlU2VsZWN0QWxsIiwibXVsdGlTZWxlY3QiLCJlbmFibGVSb3dIZWFkZXJTZWxlY3Rpb24iLCJlbmFibGVTb3J0aW5nIiwiY29sdW1uRGVmcyIsIm5hbWUiLCJmaWVsZCIsInR5cGUiLCJvblJlZ2lzdGVyQXBpIiwiZ3JpZEFwaSIsInNlbGVjdGlvbiIsIm9uIiwicm93U2VsZWN0aW9uQ2hhbmdlZCIsInJvdyIsImlzU2VsZWN0ZWQiLCJhZGQiLCJlZGl0U2VsZWN0ZWQiLCJlbnRpdHkiLCJkZWxldGVTZWxlY3RlZCIsImNvbmZpcm0iLCJva1RleHQiLCJ0aXRsZSIsIm1lc3NhZ2UiLCJkZWxldGUiLCJpZCIsIiR1aWJNb2RhbEluc3RhbmNlIiwiZm9ybSIsImNvbnRhY3QiLCJhZGRyZXNzMSIsImFkZHJlc3MyIiwiY2l0eSIsInJlZ2lvbiIsInBvc3RhbENvZGUiLCJwaG9uZSIsImVtYWlsIiwid2ViIiwic3VibWl0IiwiY29udHJhY3RvckZvcm0iLCIkaW52YWxpZCIsImVycm9yTWVzc2FnZSIsImJ1dHRvbiIsImVsZW1lbnQiLCJwcm9taXNlIiwicGF5bG9hZCIsInVwZGF0ZSIsImNyZWF0ZSIsImNsb3NlIiwiY2FuY2VsIiwiZGlzbWlzcyIsInVpR3JpZENvbnN0YW50cyIsIkdpZyIsIlVybEJ1aWxkZXIiLCJnaWdzIiwiZ2lnIiwiZW5hYmxlRmlsdGVyaW5nIiwicGFnaW5hdGlvblBhZ2VTaXplIiwicGFnaW5hdGlvblBhZ2VTaXplcyIsInNob3dDb2x1bW5Gb290ZXIiLCJzaG93R3JpZEZvb3RlciIsImZpbHRlciIsIlNFTEVDVCIsInNlbGVjdE9wdGlvbnMiLCJtYXAiLCJ2YWx1ZSIsImxhYmVsIiwiY2VsbEZpbHRlciIsImZvb3RlckNlbGxGaWx0ZXIiLCJjZWxsQ2xhc3MiLCJmb290ZXJDZWxsQ2xhc3MiLCJhZ2dyZWdhdGlvbkhpZGVMYWJlbCIsImFnZ3JlZ2F0aW9uVHlwZSIsImFnZ3JlZ2F0aW9uVHlwZXMiLCJzdW0iLCJUYWciLCJjb250cmFjdG9yRHJvcGRvd25PcHRpb25zIiwiZ2V0RHJvcGRvd25PcHRpb25zIiwiZGVzY3JpcHRpb25zQ29tYm9PcHRpb25zIiwiYXV0b0JpbmQiLCJkYXRhU291cmNlIiwia2VuZG8iLCJEYXRhU291cmNlIiwidHJhbnNwb3J0IiwicmVhZCIsInVybCIsImJ1aWxkIiwiZGF0YVRleHRGaWVsZCIsImRhdGFWYWx1ZUZpZWxkIiwiZGlzdGFuY2VPcHRpb25zIiwiZGVjaW1hbHMiLCJtaW4iLCJmb3JtYXQiLCJkdXJhdGlvbk9wdGlvbnMiLCJ0YWdEcm9wZG93bk9wdGlvbnMiLCJwbGFjZSIsImZyb21Kc29uIiwiZGlzdGFuY2UiLCJkdXJhdGlvbiIsInN0YXJ0RGF0ZSIsIkRhdGUiLCJlbmREYXRlIiwiY29udHJhY3RvcklkIiwidGFncyIsIm5vdGVzIiwiZXN0aW1hdGVEaXN0YW5jZSIsImRpc3RhbmNlVG8iLCJwbGFjZUlkIiwicGxhY2VfaWQiLCJyZXNwb25zZSIsInJvd3MiLCJlbGVtZW50cyIsImxvZyIsIm5leHQiLCJwcmV2IiwiZ2lnRm9ybSIsIiRyb290U2NvcGUiLCIkc3RhdGUiLCIkaHR0cCIsInN1Ym1pdExvZ2luRm9ybSIsImxvZ2luRm9ybSIsIiR2YWxpZCIsInBvc3REYXRhIiwicGFzc3dvcmQiLCJwb3N0Iiwic3RhdHVzIiwicHJvZmlsZSIsImdvIiwiYWxlcnQiLCJnZXQiLCJob21lQmFzZUFkZHJlc3MiLCJTZXR0aW5ncyIsInNldHRpbmdzIiwiaG9tZUJhc2VPcHRpb25zIiwicGxhY2VJZE9ubHkiLCJob21lQmFzZVBsYWNlIiwic2V0dGluZ3NGb3JtIiwidGFnIiwiZGVzY3JpcHRpb24iLCJ0YWdGb3JtIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCIkdGl0bGVQcm92aWRlciIsIm90aGVyd2lzZSIsInN0YXRlIiwicHVibGljIiwiJHRpdGxlIiwiZG9jdW1lbnRUaXRsZSIsInJ1biIsIiRvbiIsImV2ZW50IiwidG9TdGF0ZSIsImFjdGl2ZSIsInByZXZlbnREZWZhdWx0IiwibG9nb3V0IiwiZmFjdG9yeSIsIiRyZXNvdXJjZSIsImFjdGlvbiIsIm1ldGhvZCIsImlzQXJyYXkiLCJnZXRNb2RlbCIsIk1vZGVsIiwiZGVmaW5lIiwiZmllbGRzIiwiZ2V0RGF0YVNvdXJjZSIsInNjaGVtYSIsIm1vZGVsIiwidGhpcyIsInZhbHVlUHJpbWl0aXZlIiwiZGlhbG9nT3B0aW9ucyIsImRpYWxvZ1NldHRpbmdzIiwiT2JqZWN0IiwiYXNzaWduIiwiY2FuY2VsVGV4dCIsIm9rIiwibG9jYXRpb24iLCJzaG93RXJyb3JNb2RhbCIsIndpbmRvdyIsInRlc3QiLCJyZXNwb25zZUVycm9yIiwiJHEiLCJyZWplY3QiLCJyZWxhdGl2ZVVybCIsImFwaUNvbmZpZyIsImFwcENvbmZpZyIsImFwaSIsImhvc3QiLCJwb3J0Il0sIm1hcHBpbmdzIjoiQ0FBQyxXQUNHLFlBRUFBLFNBQVFDLE9BQU8sYUFDWCxLQUNBLGFBQ0EsWUFDQSxrQkFDQSxtQkFDQSxnQkFDQSxlQUNBLFVBQ0EsZUFDQTtDQ2JQLFdBQ0csWUFDQUQsU0FBUUMsT0FBTyxhQUFhQyxXQUFXLFdBQ3RDO0NDSEwsV0FDSSxZQUVBRixTQUFRQyxPQUFPLGFBQWFDLFdBQVcsZUFDbkMsU0FBVSxZQUFhLFVBQVcsYUFDbEMsU0FBU0MsRUFBUUMsRUFBV0MsRUFBU0MsR0F5Q2pDLFFBQVNDLEtBQ0xELEVBQVdFLEtBQUtDLFFBQVFDLFNBQVNDLEtBQUssU0FBU0MsR0FDM0NULEVBQU9VLFlBQVlMLEtBQU9JLElBQzNCRSxNQUFNLFNBQVNDLEdBQ2RDLFFBQVFDLE1BQU1GLEtBOEJ0QixRQUFTRyxHQUFXQyxHQUNJZixFQUFVZ0IsTUFDMUJDLGVBQWdCLGNBQ2hCQyxnQkFBaUIsYUFDakJDLFlBQWEsZ0NBQ2JyQixXQUFZLDJCQUNac0IsU0FDSUwsV0FBWSxXQUNSLE1BQU9BLE9BS0xNLE9BQU9kLEtBQUssV0FDdEJKLEtBQ0QsY0F4RlBKLEVBQU91QixTQUFXLEtBRWxCdkIsRUFBT1UsYUFDSGMsb0JBQW9CLEVBQ3BCQyxpQkFBaUIsRUFDakJDLGFBQWEsRUFDYkMsMEJBQTBCLEVBQzFCQyxlQUFlLEVBQ2ZDLGFBQ0lDLEtBQU0sT0FDTkMsTUFBTyxPQUNQQyxLQUFNLFdBRU5GLEtBQU0sVUFDTkMsTUFBTyxVQUNQQyxLQUFNLFdBRU5GLEtBQU0sUUFDTkMsTUFBTyxRQUNQQyxLQUFNLFdBRU5GLEtBQU0sUUFDTkMsTUFBTyxRQUNQQyxLQUFNLFdBRVYzQixRQUNBNEIs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WjlLLE9BQ0krSyxPQUFRLFFBQ1JDLE9BQVEsTUFDUkMsU0FBUyxHQUViakgsUUFDSStHLE9BQVEsU0FDUkMsT0FBUSxRQUVaakgsUUFDSWdILE9BQVEsU0FDUkMsT0FBUSxPQUNSMUUsSUFBSyxtQkFFVDVELFFBQ0lxSSxPQUFRLFNBQ1JDLE9BQVEsU0FDUjFFLElBQUsscUJBR2I0RSxTQUFVLFdBQ04sTUFBT2hGLE9BQU1uRyxLQUFLb0wsTUFBTUMsUUFDcEJ6SSxHQUFJLEtBQ0owSSxRQUNJN0osTUFDSUUsS0FBTSxVQUVWaUksYUFDSWpJLEtBQU0sY0FLdEI0SixjQUFlLFdBQ1gsTUFBTyxJQUFJcEYsT0FBTW5HLEtBQUtvRyxZQUNsQkMsV0FDSUMsTUFDSUMsSUFBSyxnQkFHYmlGLFFBQ0lDLE1BQU9DLEtBQUtQLGVBSXhCcEYsbUJBQW9CLFdBQ2hCLE9BQ0lHLFdBQVl3RixLQUFLSCxnQkFDakJ0RixVQUFVLEVBQ1ZRLGNBQWUsT0FDZkMsZUFBZ0I7Q0MxRHZDLFdBQ0csWUFFQWxILFNBQVFDLE9BQU8sYUFBYXFMLFFBQVEsY0FDaEMsV0FDSSxPQUNJdEUsTUFBTyxTQUFVaUcsR0FDYixHQUFJQyxHQUFZTixPQUFPTyxVQUFVQyxHQUVqQyxPQUFPLFVBQVlGLEVBQVVHLEtBQU8sSUFBTUgsRUFBVUksS0FBT0wiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdHaWdLZWVwZXInLCBbXG4gICAgICAgICduZycsXG4gICAgICAgICduZ1Jlc291cmNlJyxcbiAgICAgICAgJ3VpLnJvdXRlcicsXG4gICAgICAgICd1aS5yb3V0ZXIudGl0bGUnLFxuICAgICAgICAna2VuZG8uZGlyZWN0aXZlcycsXG4gICAgICAgICdnb29nbGUucGxhY2VzJyxcbiAgICAgICAgJ3VpLmJvb3RzdHJhcCcsXG4gICAgICAgICd1aS5ncmlkJyxcbiAgICAgICAgJ3VpLmdyaWQuZWRpdCcsXG4gICAgICAgICd1aS5ncmlkLnNlbGVjdGlvbidcbiAgICBdKTtcblxufSgpKTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGFuZ3VsYXIubW9kdWxlKCdHaWdLZWVwZXInKS5jb250cm9sbGVyKCdjb250YWN0JywgW1xuICAgIFx0ZnVuY3Rpb24oKSB7XG4gICAgXHR9XG4gICAgXSk7XG59KCkpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnR2lnS2VlcGVyJykuY29udHJvbGxlcignY29udHJhY3RvcnMnLCBbXG4gICAgICAgICckc2NvcGUnLCAnJHVpYk1vZGFsJywgJ2RpYWxvZ3MnLCAnQ29udHJhY3RvcicsXG4gICAgICAgIGZ1bmN0aW9uKCRzY29wZSwgJHVpYk1vZGFsLCBkaWFsb2dzLCBDb250cmFjdG9yKSB7XG5cbiAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZCA9IG51bGw7XG5cbiAgICAgICAgICAgICRzY29wZS5ncmlkT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBlbmFibGVSb3dTZWxlY3Rpb246IHRydWUsXG4gICAgICAgICAgICAgICAgZW5hYmxlU2VsZWN0QWxsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtdWx0aVNlbGVjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgZW5hYmxlUm93SGVhZGVyU2VsZWN0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBlbmFibGVTb3J0aW5nOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbHVtbkRlZnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdOYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgZmllbGQ6ICduYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdDb250YWN0JyxcbiAgICAgICAgICAgICAgICAgICAgZmllbGQ6ICdjb250YWN0JyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdQaG9uZScsXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkOiAncGhvbmUnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0VtYWlsJyxcbiAgICAgICAgICAgICAgICAgICAgZmllbGQ6ICdlbWFpbCcsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgZGF0YTogW10sXG4gICAgICAgICAgICAgICAgb25SZWdpc3RlckFwaTogZnVuY3Rpb24oZ3JpZEFwaSkge1xuICAgICAgICAgICAgICAgICAgICBncmlkQXBpLnNlbGVjdGlvbi5vbi5yb3dTZWxlY3Rpb25DaGFuZ2VkKCRzY29wZSwgZnVuY3Rpb24ocm93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocm93LmlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWQgPSByb3c7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZCA9IG51bGw7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGxvYWQoKSB7XG4gICAgICAgICAgICAgICAgQ29udHJhY3Rvci5kYXRhLmluZGV4KCkuJHByb21pc2UudGhlbihmdW5jdGlvbihjb250cmFjdG9ycykge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ3JpZE9wdGlvbnMuZGF0YSA9IGNvbnRyYWN0b3JzO1xuICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxvYWQoKTtcblxuICAgICAgICAgICAgJHNjb3BlLmFkZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGVkaXREaWFsb2coe30pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLmVkaXRTZWxlY3RlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGVkaXREaWFsb2coJHNjb3BlLnNlbGVjdGVkLmVudGl0eSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUuZGVsZXRlU2VsZWN0ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBkaWFsb2dzLmNvbmZpcm0oe1xuICAgICAgICAgICAgICAgICAgICBva1RleHQ6ICdEZWxldGUnLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0NvbmZpcm0gRGVsZXRlJyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgJyArICRzY29wZS5zZWxlY3RlZC5lbnRpdHkubmFtZSArICc/J1xuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIENvbnRyYWN0b3IuZGF0YS5kZWxldGUoeyBpZDogJHNjb3BlLnNlbGVjdGVkLmVudGl0eS5pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBlZGl0RGlhbG9nKGNvbnRyYWN0b3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcbiAgICAgICAgICAgICAgICAgICAgYXJpYUxhYmVsbGVkQnk6ICdtb2RhbC10aXRsZScsXG4gICAgICAgICAgICAgICAgICAgIGFyaWFEZXNjcmliZWRCeTogJ21vZGFsLWJvZHknLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy90ZW1wbGF0ZS9jb250cmFjdG9yRWRpdC5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbnRyYWN0b3JFZGl0Q29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyYWN0b3I6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250cmFjdG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBsb2FkKCk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIF0pO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ0dpZ0tlZXBlcicpLmNvbnRyb2xsZXIoJ0NvbnRyYWN0b3JFZGl0Q29udHJvbGxlcicsIFtcbiAgICAgICAgJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsICdDb250cmFjdG9yJywgJ2NvbnRyYWN0b3InLFxuICAgICAgICBmdW5jdGlvbigkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlLCBDb250cmFjdG9yLCBjb250cmFjdG9yKSB7XG5cbiAgICAgICAgICAgICRzY29wZS5mb3JtID0ge1xuICAgICAgICAgICAgICAgIGlkOiBjb250cmFjdG9yLmlkLFxuICAgICAgICAgICAgICAgIG5hbWU6IGNvbnRyYWN0b3IubmFtZSxcbiAgICAgICAgICAgICAgICBjb250YWN0OiBjb250cmFjdG9yLmNvbnRhY3QsXG4gICAgICAgICAgICAgICAgYWRkcmVzczE6IGNvbnRyYWN0b3IuYWRkcmVzczEsXG4gICAgICAgICAgICAgICAgYWRkcmVzczI6IGNvbnRyYWN0b3IuYWRkcmVzczIsXG4gICAgICAgICAgICAgICAgY2l0eTogY29udHJhY3Rvci5jaXR5LFxuICAgICAgICAgICAgICAgIHJlZ2lvbjogY29udHJhY3Rvci5yZWdpb24sXG4gICAgICAgICAgICAgICAgcG9zdGFsQ29kZTogY29udHJhY3Rvci5wb3N0YWxDb2RlLFxuICAgICAgICAgICAgICAgIHBob25lOiBjb250cmFjdG9yLnBob25lLFxuICAgICAgICAgICAgICAgIGVtYWlsOiBjb250cmFjdG9yLmVtYWlsLFxuICAgICAgICAgICAgICAgIHdlYjogY29udHJhY3Rvci53ZWJcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbihjb250cmFjdG9yRm9ybSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCFjb250cmFjdG9yRm9ybS4kaW52YWxpZCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBidXR0b24gPSBhbmd1bGFyLmVsZW1lbnQoJyNzYXZlX2J1dHRvbicpO1xuICAgICAgICAgICAgICAgICAgICBidXR0b24uYnV0dG9uKCdsb2FkaW5nJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHBheWxvYWQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAkc2NvcGUuZm9ybS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdDogJHNjb3BlLmZvcm0uY29udGFjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3MxOiAkc2NvcGUuZm9ybS5hZGRyZXNzMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3MyOiAkc2NvcGUuZm9ybS5hZGRyZXNzMixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpdHk6ICRzY29wZS5mb3JtLmNpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICByZWdpb246ICRzY29wZS5mb3JtLnJlZ2lvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RhbENvZGU6ICRzY29wZS5mb3JtLnBvc3RhbENvZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwaG9uZTogJHNjb3BlLmZvcm0ucGhvbmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogJHNjb3BlLmZvcm0uZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWI6ICRzY29wZS5mb3JtLndlYlxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9taXNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udHJhY3Rvci5pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZSA9IENvbnRyYWN0b3IuZGF0YS51cGRhdGUoeyBpZDogY29udHJhY3Rvci5pZCB9LCBwYXlsb2FkKS4kcHJvbWlzZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2UgPSBDb250cmFjdG9yLmRhdGEuY3JlYXRlKHt9LCBwYXlsb2FkKS4kcHJvbWlzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uYnV0dG9uKCdyZXNldCcpO1xuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uYnV0dG9uKCdyZXNldCcpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXJyb3JNZXNzYWdlID0gJ0NoZWNrIGZvcm0gZm9yIGVycm9ycyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIF0pO1xufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ0dpZ0tlZXBlcicpLmNvbnRyb2xsZXIoJ2dpZ3MnLCBbXG4gICAgICAgICckc2NvcGUnLCAnJHVpYk1vZGFsJywgJ3VpR3JpZENvbnN0YW50cycsICdkaWFsb2dzJywgJ2NvbnRyYWN0b3JzJywgJ0dpZycsICdVcmxCdWlsZGVyJyxcbiAgICAgICAgZnVuY3Rpb24oJHNjb3BlLCAkdWliTW9kYWwsIHVpR3JpZENvbnN0YW50cywgZGlhbG9ncywgY29udHJhY3RvcnMsIEdpZywgVXJsQnVpbGRlcikge1xuXG4gICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWQgPSBudWxsO1xuXG4gICAgICAgICAgICAkc2NvcGUuZ3JpZE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgZW5hYmxlRmlsdGVyaW5nOiB0cnVlLFxuICAgICAgICAgICAgICAgIGVuYWJsZVJvd0hlYWRlclNlbGVjdGlvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgZW5hYmxlUm93U2VsZWN0aW9uOiB0cnVlLFxuICAgICAgICAgICAgICAgIGVuYWJsZVNlbGVjdEFsbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgZW5hYmxlU29ydGluZzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtdWx0aVNlbGVjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgcGFnaW5hdGlvblBhZ2VTaXplOiAxMCxcbiAgICAgICAgICAgICAgICBwYWdpbmF0aW9uUGFnZVNpemVzOiBbMTAsIDI1LCA1MCwgMTAwXSxcbiAgICAgICAgICAgICAgICBzaG93Q29sdW1uRm9vdGVyOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNob3dHcmlkRm9vdGVyOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbHVtbkRlZnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdDb250cmFjdG9yJyxcbiAgICAgICAgICAgICAgICAgICAgZmllbGQ6ICdjb250cmFjdG9yLm5hbWUnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB1aUdyaWRDb25zdGFudHMuZmlsdGVyLlNFTEVDVCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdE9wdGlvbnM6IGNvbnRyYWN0b3JzLm1hcChmdW5jdGlvbihjb250cmFjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNvbnRyYWN0b3IubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGNvbnRyYWN0b3IubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnRGVzY3JpcHRpb24nLFxuICAgICAgICAgICAgICAgICAgICBmaWVsZDogJ25hbWUnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0xvY2F0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgZmllbGQ6ICdwbGFjZS5uYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdEaXN0YW5jZScsXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkOiAnZGlzdGFuY2UnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgICAgICAgICAgY2VsbEZpbHRlcjogJ251bWJlcjoxJyxcbiAgICAgICAgICAgICAgICAgICAgZm9vdGVyQ2VsbEZpbHRlcjogJ251bWJlcjoxJyxcbiAgICAgICAgICAgICAgICAgICAgY2VsbENsYXNzOiAndGV4dC1yaWdodCcsXG4gICAgICAgICAgICAgICAgICAgIGZvb3RlckNlbGxDbGFzczogJ3RleHQtcmlnaHQnLFxuICAgICAgICAgICAgICAgICAgICBhZ2dyZWdhdGlvbkhpZGVMYWJlbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYWdncmVnYXRpb25UeXBlOiB1aUdyaWRDb25zdGFudHMuYWdncmVnYXRpb25UeXBlcy5zdW1cbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdUcmF2ZWwgVGltZScsXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkOiAnZHVyYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgICAgICAgICAgICAgY2VsbEZpbHRlcjogJ251bWJlcjowJyxcbiAgICAgICAgICAgICAgICAgICAgZm9vdGVyQ2VsbEZpbHRlcjogJ251bWJlcjowJyxcbiAgICAgICAgICAgICAgICAgICAgY2VsbENsYXNzOiAndGV4dC1yaWdodCcsXG4gICAgICAgICAgICAgICAgICAgIGZvb3RlckNlbGxDbGFzczogJ3RleHQtcmlnaHQnLFxuICAgICAgICAgICAgICAgICAgICBhZ2dyZWdhdGlvbkhpZGVMYWJlbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYWdncmVnYXRpb25UeXBlOiB1aUdyaWRDb25zdGFudHMuYWdncmVnYXRpb25UeXBlcy5zdW1cbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdTdGFydCcsXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkOiAnc3RhcnREYXRlJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RhdGUnLFxuICAgICAgICAgICAgICAgICAgICBjZWxsRmlsdGVyOiAnZGF0ZTpcIk1NL2RkL3l5eXkgaGg6bW0gYVwiJ1xuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0VuZCcsXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkOiAnZW5kRGF0ZScsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkYXRlJyxcbiAgICAgICAgICAgICAgICAgICAgY2VsbEZpbHRlcjogJ2RhdGU6XCJNTS9kZC95eXl5IGhoOm1tIGFcIidcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgICAgICAgICBvblJlZ2lzdGVyQXBpOiBmdW5jdGlvbihncmlkQXBpKSB7XG4gICAgICAgICAgICAgICAgICAgIGdyaWRBcGkuc2VsZWN0aW9uLm9uLnJvd1NlbGVjdGlvbkNoYW5nZWQoJHNjb3BlLCBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyb3cuaXNTZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZCA9IHJvdztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkID0gbnVsbDtcblxuICAgICAgICAgICAgZnVuY3Rpb24gbG9hZCgpIHtcbiAgICAgICAgICAgICAgICBHaWcuZGF0YS5pbmRleCgpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24oZ2lncykge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ3JpZE9wdGlvbnMuZGF0YSA9IGdpZ3M7XG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbG9hZCgpO1xuXG4gICAgICAgICAgICAkc2NvcGUuYWRkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZWRpdERpYWxvZyh7fSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUuZWRpdFNlbGVjdGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZWRpdERpYWxvZygkc2NvcGUuc2VsZWN0ZWQuZW50aXR5KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS5kZWxldGVTZWxlY3RlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGRpYWxvZ3MuY29uZmlybSh7XG4gICAgICAgICAgICAgICAgICAgIG9rVGV4dDogJ0RlbGV0ZScsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnQ29uZmlybSBEZWxldGUnLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSAnICsgJHNjb3BlLnNlbGVjdGVkLmVudGl0eS5uYW1lICsgJz8nXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgR2lnLmRhdGEuZGVsZXRlKHsgaWQ6ICRzY29wZS5zZWxlY3RlZC5lbnRpdHkuaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gZWRpdERpYWxvZyhnaWcpIHtcbiAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcbiAgICAgICAgICAgICAgICAgICAgYXJpYUxhYmVsbGVkQnk6ICdtb2RhbC10aXRsZScsXG4gICAgICAgICAgICAgICAgICAgIGFyaWFEZXNjcmliZWRCeTogJ21vZGFsLWJvZHknLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy90ZW1wbGF0ZS9naWdFZGl0Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnR2lnRWRpdENvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnaWc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnaWc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWQoKTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXSk7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnR2lnS2VlcGVyJykuY29udHJvbGxlcignR2lnRWRpdENvbnRyb2xsZXInLCBbXG4gICAgICAgICckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAnQ29udHJhY3RvcicsICdUYWcnLCAnR2lnJywgJ2dpZycsICdVcmxCdWlsZGVyJyxcbiAgICAgICAgZnVuY3Rpb24oJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSwgQ29udHJhY3RvciwgVGFnLCBHaWcsIGdpZywgVXJsQnVpbGRlcikge1xuXG4gICAgICAgICAgICAkc2NvcGUuY29udHJhY3RvckRyb3Bkb3duT3B0aW9ucyA9IENvbnRyYWN0b3IuZ2V0RHJvcGRvd25PcHRpb25zKCk7XG5cbiAgICAgICAgICAgICRzY29wZS5kZXNjcmlwdGlvbnNDb21ib09wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgYXV0b0JpbmQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2Uoe1xuICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IFVybEJ1aWxkZXIuYnVpbGQoJy9hcGkvdjEvZ2lnL2Rlc2NyaXB0aW9ucycpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBkYXRhVGV4dEZpZWxkOiAnbmFtZScsXG4gICAgICAgICAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICduYW1lJ1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLmRpc3RhbmNlT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBkZWNpbWFsczogMSxcbiAgICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgICAgZm9ybWF0OiAnbjEnXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUuZHVyYXRpb25PcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGRlY2ltYWxzOiAwLFxuICAgICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgICBmb3JtYXQ6ICduMCdcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS50YWdEcm9wZG93bk9wdGlvbnMgPSBUYWcuZ2V0RHJvcGRvd25PcHRpb25zKCk7XG5cbiAgICAgICAgICAgICRzY29wZS5mb3JtID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IGdpZy5uYW1lLFxuICAgICAgICAgICAgICAgIHBsYWNlOiBhbmd1bGFyLmZyb21Kc29uKGdpZy5wbGFjZSksXG4gICAgICAgICAgICAgICAgZGlzdGFuY2U6IGdpZy5kaXN0YW5jZSxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogZ2lnLmR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZTogbmV3IERhdGUoZ2lnLnN0YXJ0RGF0ZSksXG4gICAgICAgICAgICAgICAgZW5kRGF0ZTogbmV3IERhdGUoZ2lnLmVuZERhdGUpLFxuICAgICAgICAgICAgICAgIGNvbnRyYWN0b3JJZDogZ2lnLmNvbnRyYWN0b3JJZCxcbiAgICAgICAgICAgICAgICB0YWdzOiBnaWcudGFncyxcbiAgICAgICAgICAgICAgICBub3RlczogZ2lnLm5vdGVzXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUuZXN0aW1hdGVEaXN0YW5jZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZm9ybS5wbGFjZSkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBidXR0b24gPSBhbmd1bGFyLmVsZW1lbnQoJyNlc3RpbWF0ZV9idXR0b24nKTtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmJ1dHRvbignbG9hZGluZycpO1xuXG4gICAgICAgICAgICAgICAgICAgIEdpZy5kYXRhLmRpc3RhbmNlVG8oe3BsYWNlSWQ6ICRzY29wZS5mb3JtLnBsYWNlLnBsYWNlX2lkfSkuJHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSByZXNwb25zZS5yb3dzWzBdLmVsZW1lbnRzWzBdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29udmVydCBLTSB0byBtaWxlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5mb3JtLmRpc3RhbmNlID0gZWxlbWVudC5kaXN0YW5jZS52YWx1ZSAvIDEwMDAgLyAxLjYwOTM0NDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnZlcnQgc2Vjb25kcyB0byBtaW51dGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZvcm0uZHVyYXRpb24gPSBlbGVtZW50LmR1cmF0aW9uLnZhbHVlIC8gNjA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmJ1dHRvbigncmVzZXQnKTtcbiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5idXR0b24oJ3Jlc2V0Jyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQbGVhc2Ugc2VsZWN0IGEgbG9jYXRpb24nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUucHJldiA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUuc3VibWl0ID0gZnVuY3Rpb24oZ2lnRm9ybSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCFnaWdGb3JtLiRpbnZhbGlkKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGJ1dHRvbiA9IGFuZ3VsYXIuZWxlbWVudCgnI3NhdmVfYnV0dG9uJyk7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5idXR0b24oJ2xvYWRpbmcnKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICRzY29wZS5mb3JtLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZTogJHNjb3BlLmZvcm0ucGxhY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZTogJHNjb3BlLmZvcm0uZGlzdGFuY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogJHNjb3BlLmZvcm0uZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydERhdGU6ICRzY29wZS5mb3JtLnN0YXJ0RGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZERhdGU6ICRzY29wZS5mb3JtLmVuZERhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cmFjdG9ySWQ6ICRzY29wZS5mb3JtLmNvbnRyYWN0b3JJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3M6ICRzY29wZS5mb3JtLnRhZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBub3RlczogJHNjb3BlLmZvcm0ubm90ZXNcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdpZy5pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZSA9IEdpZy5kYXRhLnVwZGF0ZSh7IGlkOiBnaWcuaWQgfSwgcGF5bG9hZCkuJHByb21pc2U7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlID0gR2lnLmRhdGEuY3JlYXRlKHt9LCBwYXlsb2FkKS4kcHJvbWlzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAkc2NvcGUuc3VjY2Vzc01lc3NhZ2UgPSAnU2F2ZWQhJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5idXR0b24oJ3Jlc2V0Jyk7XG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5idXR0b24oJ3Jlc2V0Jyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5lcnJvck1lc3NhZ2UgPSAnQ2hlY2sgZm9ybSBmb3IgZXJyb3JzJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgXSk7ICAgIFxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ0dpZ0tlZXBlcicpLmNvbnRyb2xsZXIoJ2hvbWUnLCBbXG4gICAgICAgICckcm9vdFNjb3BlJywgJyRzY29wZScsICckc3RhdGUnLCAnJGh0dHAnLCAnVXJsQnVpbGRlcicsXG4gICAgICAgIGZ1bmN0aW9uKCRyb290U2NvcGUsICRzY29wZSwgJHN0YXRlLCAkaHR0cCwgVXJsQnVpbGRlcikge1xuXG4gICAgICAgICAgICAkc2NvcGUuc3VibWl0TG9naW5Gb3JtID0gZnVuY3Rpb24obG9naW5Gb3JtKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxvZ2luRm9ybS4kdmFsaWQpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgcG9zdERhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogJHNjb3BlLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICRzY29wZS5wYXNzd29yZFxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICRodHRwLnBvc3QoVXJsQnVpbGRlci5idWlsZCgnL2FwaS92MS9sb2dpbicpLCBwb3N0RGF0YSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5wcm9maWxlID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ215Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdCYWQgdXNlcm5hbWUgb3IgcGFzc3dvcmQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5kYXRhICYmIGVycm9yLmRhdGEubWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KGVycm9yLmRhdGEubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdTeXN0ZW0gZXJyb3InKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIF0pO1xufSgpKTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ0dpZ0tlZXBlcicpLmNvbnRyb2xsZXIoJ3Byb2ZpbGUnLCBbXG4gICAgICAgICckc2NvcGUnLCAnJGh0dHAnLCAnVXJsQnVpbGRlcicsXG4gICAgICAgIGZ1bmN0aW9uKCRzY29wZSwgJGh0dHAsIFVybEJ1aWxkZXIpIHtcblxuICAgICAgICAgICAgJHNjb3BlLmZvcm0gPSB7fTtcblxuICAgICAgICAgICAgJGh0dHAuZ2V0KFVybEJ1aWxkZXIuYnVpbGQoJy9hcGkvdjEvdXNlci9wcm9maWxlJykpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuICAgICAgICAgICAgICAgICRzY29wZS5mb3JtLmVtYWlsID0gcmVzcG9uc2UuZGF0YS5lbWFpbDtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZm9ybS5ob21lQmFzZUFkZHJlc3MgPSByZXNwb25zZS5kYXRhLnByb2ZpbGUuaG9tZUJhc2VBZGRyZXNzO1xuXG4gICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICBdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdHaWdLZWVwZXInKS5jb250cm9sbGVyKCdzZXR0aW5ncycsIFtcbiAgICAgICAgJyRzY29wZScsICdTZXR0aW5ncycsICdzZXR0aW5ncycsXG4gICAgICAgIGZ1bmN0aW9uKCRzY29wZSwgU2V0dGluZ3MsIHNldHRpbmdzKSB7XG5cbiAgICAgICAgICAgICRzY29wZS5ob21lQmFzZU9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgcGxhY2VJZE9ubHk6IHRydWVcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS5mb3JtID0ge1xuICAgICAgICAgICAgICAgIGhvbWVCYXNlUGxhY2U6IHNldHRpbmdzLmhvbWVCYXNlUGxhY2VcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbihzZXR0aW5nc0Zvcm0pIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNldHRpbmdzRm9ybS4kaW52YWxpZCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBidXR0b24gPSBhbmd1bGFyLmVsZW1lbnQoJyNzYXZlX2J1dHRvbicpO1xuICAgICAgICAgICAgICAgICAgICBidXR0b24uYnV0dG9uKCdsb2FkaW5nJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHBheWxvYWQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBob21lQmFzZVBsYWNlOiAkc2NvcGUuZm9ybS5ob21lQmFzZVBsYWNlXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgU2V0dGluZ3MuZGF0YS51cGRhdGUoe30sIHBheWxvYWQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uYnV0dG9uKCdyZXNldCcpO1xuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uYnV0dG9uKCdyZXNldCcpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXJyb3JNZXNzYWdlID0gJ0NoZWNrIGZvcm0gZm9yIGVycm9ycyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIF0pO1xufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ0dpZ0tlZXBlcicpLmNvbnRyb2xsZXIoJ3RhZ3MnLCBbXG4gICAgICAgICckc2NvcGUnLCAnJHVpYk1vZGFsJywgJ2RpYWxvZ3MnLCAnVGFnJyxcbiAgICAgICAgZnVuY3Rpb24oJHNjb3BlLCAkdWliTW9kYWwsIGRpYWxvZ3MsIFRhZykge1xuXG4gICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWQgPSBudWxsO1xuXG4gICAgICAgICAgICAkc2NvcGUuZ3JpZE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgZW5hYmxlUm93U2VsZWN0aW9uOiB0cnVlLFxuICAgICAgICAgICAgICAgIGVuYWJsZVNlbGVjdEFsbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbXVsdGlTZWxlY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGVuYWJsZVJvd0hlYWRlclNlbGVjdGlvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgZW5hYmxlU29ydGluZzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb2x1bW5EZWZzOiBbe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnTmFtZScsXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkOiAnbmFtZScsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnRGVzY3JpcHRpb24nLFxuICAgICAgICAgICAgICAgICAgICBmaWVsZDogJ2Rlc2NyaXB0aW9uJ1xuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIGRhdGE6IFtdLFxuICAgICAgICAgICAgICAgIG9uUmVnaXN0ZXJBcGk6IGZ1bmN0aW9uKGdyaWRBcGkpIHtcbiAgICAgICAgICAgICAgICAgICAgZ3JpZEFwaS5zZWxlY3Rpb24ub24ucm93U2VsZWN0aW9uQ2hhbmdlZCgkc2NvcGUsIGZ1bmN0aW9uKHJvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvdy5pc1NlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkID0gcm93O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWQgPSBudWxsO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBsb2FkKCkge1xuICAgICAgICAgICAgICAgIFRhZy5kYXRhLmluZGV4KCkuJHByb21pc2UudGhlbihmdW5jdGlvbih0YWdzKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ncmlkT3B0aW9ucy5kYXRhID0gdGFncztcbiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsb2FkKCk7XG5cbiAgICAgICAgICAgICRzY29wZS5hZGQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBlZGl0RGlhbG9nKHt9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS5lZGl0U2VsZWN0ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBlZGl0RGlhbG9nKCRzY29wZS5zZWxlY3RlZC5lbnRpdHkpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZVNlbGVjdGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZGlhbG9ncy5jb25maXJtKHtcbiAgICAgICAgICAgICAgICAgICAgb2tUZXh0OiAnRGVsZXRlJyxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdDb25maXJtIERlbGV0ZScsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlICcgKyAkc2NvcGUuc2VsZWN0ZWQuZW50aXR5Lm5hbWUgKyAnPydcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBUYWcuZGF0YS5kZWxldGUoeyBpZDogJHNjb3BlLnNlbGVjdGVkLmVudGl0eS5pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBlZGl0RGlhbG9nKHRhZykge1xuICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xuICAgICAgICAgICAgICAgICAgICBhcmlhTGFiZWxsZWRCeTogJ21vZGFsLXRpdGxlJyxcbiAgICAgICAgICAgICAgICAgICAgYXJpYURlc2NyaWJlZEJ5OiAnbW9kYWwtYm9keScsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3RlbXBsYXRlL3RhZ0VkaXQuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdUYWdFZGl0Q29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhZztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZCgpO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBdKTtcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdHaWdLZWVwZXInKS5jb250cm9sbGVyKCdUYWdFZGl0Q29udHJvbGxlcicsIFtcbiAgICAgICAgJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsICdUYWcnLCAndGFnJyxcbiAgICAgICAgZnVuY3Rpb24oJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSwgVGFnLCB0YWcpIHtcblxuICAgICAgICAgICAgJHNjb3BlLmZvcm0gPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHRhZy5pZCxcbiAgICAgICAgICAgICAgICBuYW1lOiB0YWcubmFtZSxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogdGFnLmRlc2NyaXB0aW9uXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUuc3VibWl0ID0gZnVuY3Rpb24odGFnRm9ybSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0YWdGb3JtLiRpbnZhbGlkKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGJ1dHRvbiA9IGFuZ3VsYXIuZWxlbWVudCgnI3NhdmVfYnV0dG9uJyk7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5idXR0b24oJ2xvYWRpbmcnKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICRzY29wZS5mb3JtLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJHNjb3BlLmZvcm0uZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZy5pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZSA9IFRhZy5kYXRhLnVwZGF0ZSh7IGlkOiB0YWcuaWQgfSwgcGF5bG9hZCkuJHByb21pc2U7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlID0gVGFnLmRhdGEuY3JlYXRlKHt9LCBwYXlsb2FkKS4kcHJvbWlzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uYnV0dG9uKCdyZXNldCcpO1xuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uYnV0dG9uKCdyZXNldCcpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXJyb3JNZXNzYWdlID0gJ0NoZWNrIGZvcm0gZm9yIGVycm9ycyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIF0pO1xufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ0dpZ0tlZXBlcicpLmNvbmZpZyhbXG4gICAgICAgICckc3RhdGVQcm92aWRlcicsICckdXJsUm91dGVyUHJvdmlkZXInLCAnJHRpdGxlUHJvdmlkZXInLFxuICAgICAgICBmdW5jdGlvbigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkdGl0bGVQcm92aWRlcikge1xuXG4gICAgICAgICAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJyk7XG5cbiAgICAgICAgICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnaG9tZScsXG4gICAgICAgICAgICAgICAgdXJsOiAnLycsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2hvbWUnLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3RlbXBsYXRlL2hvbWUuaHRtbCcsXG4gICAgICAgICAgICAgICAgcHVibGljOiB0cnVlLFxuICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgICAgICAgICAgJHRpdGxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnSG9tZSc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS5zdGF0ZSh7XG4gICAgICAgICAgICAgICAgbmFtZTogJ215JyxcbiAgICAgICAgICAgICAgICB1cmw6ICcvbXknLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3RlbXBsYXRlL215Lmh0bWwnLFxuICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgICAgICAgICAgJHRpdGxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnTXkgU3R1ZmYnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkuc3RhdGUoe1xuICAgICAgICAgICAgICAgIG5hbWU6ICdteS5naWdzJyxcbiAgICAgICAgICAgICAgICB1cmw6ICcvZ2lncycsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2dpZ3MnLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3RlbXBsYXRlL2dpZ3MuaHRtbCcsXG4gICAgICAgICAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgICAgICAgICAgICBjb250cmFjdG9yczogZnVuY3Rpb24oQ29udHJhY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENvbnRyYWN0b3IuZGF0YS5pbmRleCgpLiRwcm9taXNlO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAkdGl0bGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdNeSBHaWdzJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLnN0YXRlKHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnbXkuY29udHJhY3RvcnMnLFxuICAgICAgICAgICAgICAgIHVybDogJy9jb250cmFjdG9ycycsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2NvbnRyYWN0b3JzJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy90ZW1wbGF0ZS9jb250cmFjdG9ycy5odG1sJyxcbiAgICAgICAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgICAgICAgICR0aXRsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ015IENvbnRyYWN0b3JzJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLnN0YXRlKHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnbXkudGFncycsXG4gICAgICAgICAgICAgICAgdXJsOiAnL3RhZ3MnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd0YWdzJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy90ZW1wbGF0ZS90YWdzLmh0bWwnLFxuICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgICAgICAgICAgJHRpdGxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnTXkgVGFncyc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS5zdGF0ZSh7XG4gICAgICAgICAgICAgICAgbmFtZTogJ215LnNldHRpbmdzJyxcbiAgICAgICAgICAgICAgICB1cmw6ICcvc2V0dGluZ3MnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzZXR0aW5ncycsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdGVtcGxhdGUvc2V0dGluZ3MuaHRtbCcsXG4gICAgICAgICAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nczogZnVuY3Rpb24oU2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTZXR0aW5ncy5kYXRhLmluZGV4KCkuJHByb21pc2U7XG4gICAgICAgICAgICAgICAgICAgIH0sIFxuICAgICAgICAgICAgICAgICAgICAkdGl0bGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdTZXR0aW5ncyc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS5zdGF0ZSh7XG4gICAgICAgICAgICAgICAgbmFtZTogJ2Fib3V0JyxcbiAgICAgICAgICAgICAgICB1cmw6ICcvYWJvdXQnLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3RlbXBsYXRlL2Fib3V0Lmh0bWwnLFxuICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgICAgICAgICAgJHRpdGxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnQWJvdXQnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwdWJsaWM6IHRydWVcbiAgICAgICAgICAgIH0pLnN0YXRlKCdjb250YWN0Jywge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdjb250YWN0JyxcbiAgICAgICAgICAgICAgICB1cmw6ICcvY29udGFjdCcsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdGVtcGxhdGUvY29udGFjdC5odG1sJyxcbiAgICAgICAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgICAgICAgICR0aXRsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ0NvbnRhY3QnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwdWJsaWM6IHRydWVcbiAgICAgICAgICAgIH0pLnN0YXRlKHtcbiAgICAgICAgICAgICAgICBuYW1lOiAncHJvZmlsZScsXG4gICAgICAgICAgICAgICAgdXJsOiAnL3Byb2ZpbGUnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwcm9maWxlJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy90ZW1wbGF0ZS9wcm9maWxlLmh0bWwnLFxuICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgICAgICAgICAgJHRpdGxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnTXkgUHJvZmlsZSc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJHRpdGxlUHJvdmlkZXIuZG9jdW1lbnRUaXRsZShbXG4gICAgICAgICAgICAgICAgJyRyb290U2NvcGUnLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCRyb290U2NvcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpdGxlID0gJ0dpZ0tlZXBlcic7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkcm9vdFNjb3BlLiR0aXRsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSAkcm9vdFNjb3BlLiR0aXRsZSArICcgLSAnICsgdGl0bGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRpdGxlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgXSk7XG5cbn0oKSk7IiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdHaWdLZWVwZXInKS5ydW4oW1xuICAgICAgICAnJHJvb3RTY29wZScsICckc3RhdGUnLCAnJGh0dHAnLCAnVXJsQnVpbGRlcicsXG4gICAgICAgIGZ1bmN0aW9uKCRyb290U2NvcGUsICRzdGF0ZSwgJGh0dHAsIFVybEJ1aWxkZXIpIHtcblxuICAgICAgICAkcm9vdFNjb3BlLnByb2ZpbGUgPSBmYWxzZTtcblxuICAgICAgICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbihldmVudCwgdG9TdGF0ZSkge1xuICAgICAgICAgICAgLy8gVE9ETzogaG93IGRvIHdlIHByZXZlbnQgY2hlY2tpbmcgYXV0aCBvbiBwdWJsaWMgcGFnZXMsIGJ1dCBzdGlsbFxuICAgICAgICAgICAgLy8gY2hlY2sgYXV0aCBzdGF0dXMgb24gZmlyc3QgbG9hZCBvZiBhbnkgcGFnZT8/XG4gICAgICAgICAgICBpZiAoIXRvU3RhdGUucHVibGljKSB7XG4gICAgICAgICAgICAgICAgJGh0dHAuZ2V0KFVybEJ1aWxkZXIuYnVpbGQoJy9hcGkvdjEvdXNlci9wcm9maWxlJykpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnByb2ZpbGUgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5wcm9maWxlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2hvbWUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnaG9tZScpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAkcm9vdFNjb3BlLmxvZ291dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJGh0dHAucG9zdChVcmxCdWlsZGVyLmJ1aWxkKCcvYXBpL3YxL2xvZ291dCcpKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5wcm9maWxlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2hvbWUnKTtcbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogZmxhc2ggZXJyb3IgbWVzc2FnZVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1dKTtcblxufSgpKTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ0dpZ0tlZXBlcicpLmZhY3RvcnkoJ0NvbnRyYWN0b3InLCBbXG4gICAgICAgICckcmVzb3VyY2UnLFxuICAgICAgICBmdW5jdGlvbigkcmVzb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZGF0YTogJHJlc291cmNlKCcvYXBpL3YxL2NvbnRyYWN0b3InLCB7fSwge1xuICAgICAgICAgICAgICAgICAgICBpbmRleDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnaW5kZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQXJyYXk6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdjcmVhdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCdcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICd1cGRhdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICcvYXBpL3YxL2NvbnRyYWN0b3IvOmlkJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkZWxldGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ2RlbGV0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnL2FwaS92MS9jb250cmFjdG9yLzppZCdcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGdldE1vZGVsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtlbmRvLmRhdGEuTW9kZWwuZGVmaW5lKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnaWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzczE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3MyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXR5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RhbENvZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob25lOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2ViOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldERhdGFTb3VyY2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJy9hcGkvdjEvY29udHJhY3RvcidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NoZW1hOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWw6IHRoaXMuZ2V0TW9kZWwoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldERyb3Bkb3duT3B0aW9uczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhU291cmNlOiB0aGlzLmdldERhdGFTb3VyY2UoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9CaW5kOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVRleHRGaWVsZDogJ25hbWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICdpZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVByaW1pdGl2ZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICBdKTtcbn0oKSk7IiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdHaWdLZWVwZXInKS5mYWN0b3J5KCdkaWFsb2dzJywgW1xuICAgICAgICAnJHVpYk1vZGFsJyxcbiAgICAgICAgZnVuY3Rpb24oJHVpYk1vZGFsKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNvbmZpcm06IGZ1bmN0aW9uKGRpYWxvZ09wdGlvbnMpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZGlhbG9nU2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dDogJ09LJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ6ICdDYW5jZWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdDb25maXJtJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdBcmUgeW91IHN1cmU/J1xuICAgICAgICAgICAgICAgICAgICB9LCBkaWFsb2dPcHRpb25zKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyaWFMYWJlbGxlZEJ5OiAnbW9kYWwtdGl0bGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJpYURlc2NyaWJlZEJ5OiAnbW9kYWwtYm9keScsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9kaWFsb2dzL2NvbmZpcm0uaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlhbG9nU2V0dGluZ3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGlhbG9nU2V0dGluZ3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ2RpYWxvZ1NldHRpbmdzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlLCBkaWFsb2dTZXR0aW5ncykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kaWFsb2dTZXR0aW5ncyA9IGRpYWxvZ1NldHRpbmdzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtb2RhbEluc3RhbmNlLnJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgXSk7XG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnR2lnS2VlcGVyJykuZmFjdG9yeSgnR2lnJywgW1xuICAgICAgICAnJHJlc291cmNlJyxcbiAgICAgICAgZnVuY3Rpb24oJHJlc291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGRhdGE6ICRyZXNvdXJjZSgnL2FwaS92MS9naWcnLCB7fSwge1xuICAgICAgICAgICAgICAgICAgICBpbmRleDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnaW5kZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQXJyYXk6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdjcmVhdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCdcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICd1cGRhdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICcvYXBpL3YxL2dpZy86aWQnXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnZGVsZXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICcvYXBpL3YxL2dpZy86aWQnXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdkaXN0YW5jZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnL2FwaS92MS9naWcvOmlkL2Rpc3RhbmNlJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZVRvOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdkaXN0YW5jZVRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICcvYXBpL3YxL2dpZy9kaXN0YW5jZS86cGxhY2VJZCdcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGdldE1vZGVsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtlbmRvLmRhdGEuTW9kZWwuZGVmaW5lKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnaWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kRGF0ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJhY3RvcklkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldERhdGFTb3VyY2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJy9hcGkvdjEvZ2lnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2hlbWE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbDogdGhpcy5nZXRNb2RlbCgpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0RHJvcGRvd25PcHRpb25zOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFTb3VyY2U6IHRoaXMuZ2V0RGF0YVNvdXJjZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0JpbmQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVRleHRGaWVsZDogJ25hbWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVZhbHVlRmllbGQ6ICdpZCdcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgXSk7XG59KCkpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnR2lnS2VlcGVyJykuZmFjdG9yeSgnU2V0dGluZ3MnLCBbXG4gICAgICAgICckcmVzb3VyY2UnLFxuICAgICAgICBmdW5jdGlvbigkcmVzb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZGF0YTogJHJlc291cmNlKCcvYXBpL3YxL3NldHRpbmdzJywge30sIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ2luZGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCdcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICd1cGRhdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICcvYXBpL3YxL3NldHRpbmdzJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICBdKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ0dpZ0tlZXBlcicpLmZhY3RvcnkoJ1NvZnRFcnJvckludGVyY2VwdG9yJywgW1xuICAgICAgICAnJHVpYk1vZGFsJyxcbiAgICAgICAgZnVuY3Rpb24oJHVpYk1vZGFsKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBzaG93RXJyb3JNb2RhbChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy50ZXN0ID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgdmFyIGRpYWxvZ1NldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICAgICAgICAgIG9rVGV4dDogJ09LJyxcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dDogJ0NhbmNlbCcsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnQ29uZmlybScsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdBcmUgeW91IHN1cmU/J1xuICAgICAgICAgICAgICAgIH0sIGRpYWxvZ09wdGlvbnMpO1xuXG4gICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XG4gICAgICAgICAgICAgICAgICAgIGFyaWFMYWJlbGxlZEJ5OiAnbW9kYWwtdGl0bGUnLFxuICAgICAgICAgICAgICAgICAgICBhcmlhRGVzY3JpYmVkQnk6ICdtb2RhbC1ib2R5JyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvZGlhbG9ncy9jb25maXJtLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWFsb2dTZXR0aW5nczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRpYWxvZ1NldHRpbmdzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ2RpYWxvZ1NldHRpbmdzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsIGRpYWxvZ1NldHRpbmdzKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGlhbG9nU2V0dGluZ3MgPSBkaWFsb2dTZXR0aW5ncztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZTogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlRXJyb3I6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3dFcnJvck1vZGFsKHJlc3BvbnNlKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgXSk7XG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnR2lnS2VlcGVyJykuZmFjdG9yeSgnVGFnJywgW1xuICAgICAgICAnJHJlc291cmNlJyxcbiAgICAgICAgZnVuY3Rpb24oJHJlc291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGRhdGE6ICRyZXNvdXJjZSgnL2FwaS92MS90YWcnLCB7fSwge1xuICAgICAgICAgICAgICAgICAgICBpbmRleDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnaW5kZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQXJyYXk6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdjcmVhdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCdcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICd1cGRhdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICcvYXBpL3YxL3RhZy86aWQnXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnZGVsZXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICcvYXBpL3YxL3RhZy86aWQnXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBnZXRNb2RlbDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrZW5kby5kYXRhLk1vZGVsLmRlZmluZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2lkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldERhdGFTb3VyY2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJy9hcGkvdjEvdGFnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2hlbWE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbDogdGhpcy5nZXRNb2RlbCgpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0RHJvcGRvd25PcHRpb25zOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFTb3VyY2U6IHRoaXMuZ2V0RGF0YVNvdXJjZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0JpbmQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVGV4dEZpZWxkOiAnbmFtZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVmFsdWVGaWVsZDogJ2lkJ1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICBdKTtcbn0oKSk7IiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdHaWdLZWVwZXInKS5mYWN0b3J5KCdVcmxCdWlsZGVyJywgW1xuICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYnVpbGQ6IGZ1bmN0aW9uIChyZWxhdGl2ZVVybCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXBpQ29uZmlnID0gd2luZG93LmFwcENvbmZpZy5hcGk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdodHRwOi8vJyArIGFwaUNvbmZpZy5ob3N0ICsgJzonICsgYXBpQ29uZmlnLnBvcnQgKyByZWxhdGl2ZVVybDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgXSk7XG59KCkpOyJdfQ==
