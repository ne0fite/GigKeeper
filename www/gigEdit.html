<form name="gigForm" data-ng-submit="submit(gigForm)" novalidate>
    <div class="modal-header">
        <h3 class="modal-title" id="modal-title">Edit Gig</h3>
    </div>
    <div class="modal-body" id="modal-body">

        <div class="alert alert-danger" data-ng-if="errorMessage">{{ errorMessage }}</div>
        <div class="alert alert-success" data-ng-if="successMessage">{{ successMessage }}</div>

        <div class="form-group" data-ng-class="{ 'has-error': gigForm.contractorId.$invalid && !gigForm.contractorId.$pristine }">
            <label for="contractorId">Contractor</label>
            <div>
                <select id="contractorId" 
                        name="contractorId" 
                        style="width: 100%"
                        kendo-dropdownlist="contractorDropdown" 
                        options="contractorDropdownOptions" 
                        k-ng-model="form.contractorId" 
                        required>
                </select>
                <p data-ng-show="gigForm.contractorId.$error.required && !gigForm.contractorId.$pristine" class="help-block">Contractor is required.</p>
            </div>
        </div>

        <div class="form-group" data-ng-class="{ 'has-error': gigForm.name.$invalid && !gigForm.name.$pristine }">
            <label for="gig_name">Description</label>
            <input type="text" name="name" data-ng-model="form.name" id="gig_name" class="form-control" data-ng-required="true" />
            <p data-ng-show="gigForm.name.$error.required && !gigForm.name.$pristine" class="help-block">Description is required.</p>
        </div>

        <div class="form-group" data-ng-class="{ 'has-error': gigForm.place.$invalid && !gigForm.place.$pristine }">
            <label for="place">Location</label>
            <input type="text" 
                   id="place" 
                   name="place" 
                   class="form-control"
                   g-places-autocomplete 
                   data-force-selection="true"
                   data-ng-model="form.place"
                   required />
        </div>
        
        <div class="form-group" data-ng-class="{ 'has-error': gigForm.startDate.$invalid && !gigForm.startDate.$pristine }">
            <label for="startDate">Start</label>
            <input name="startDate" 
                   id="startDate" 
                   style="width: 100%" 
                   kendo-date-time-picker 
                   k-ng-model="form.startDate" 
                   required />
        </div>

        <div class="form-group" data-ng-class="{ 'has-error': gigForm.endDate.$invalid && !gigForm.endDate.$pristine }">
            <label for="endDate">End</label>
            <input name="endDate" 
                   id="endDate" 
                   style="width: 100%" 
                   kendo-date-time-picker 
                   k-ng-model="form.endDate" 
                   required />
        </div>

        <div class="row">
            <div class="col-md-4 form-group">
                <label for="distance">Distance (miles)</label>
                <input name="distance" 
                       id="distance" 
                       kendo-numeric-text-box
                       options="distanceOptions"
                       data-ng-model="form.distance" />
            </div>
            <div class="col-md-4 form-group">
                <label for="duration">Travel Time (minutes)</label>
                <input name="duration" 
                       id="duration" 
                       kendo-numeric-text-box
                       options="durationOptions"
                       data-ng-model="form.duration" />
            </div>
            <div class="col-md-4 form-group">
                <br/>
                <a class="btn btn-default" 
                   id="estimate_button" 
                   data-ng-click="estimateDistance()" 
                   data-loading-text="<i class='fa fa-spinner fa-spin'></i> Estimating...">
                   <i class="fa fa-car"></i> Estimate
                </a>
            </div>
        </div>

        <div class="form-group">
            <label for="tags">Tags</label>
            <select id="tags"
                    name="tags"
                    kendo-multi-select 
                    options="tagDropdownOptions" 
                    k-ng-model="form.tags"></select>
    </div>

    <div class="modal-footer">
        <!--<a class="btn btn-default" 
           data-ng-click="prev()"
           data-ng-disabled="!hasPrev()">
            <i class="fa fa-chevron-left"></i> Prev
        </a>
        <a class="btn btn-default" 
           data-ng-click="next()"
           data-ng-disabled="!hasNext()">
            Next <i class="fa fa-chevron-right"></i>
        </a>-->

        <button class="btn btn-primary" 
                id="save_button" 
                type="submit" 
                data-loading-text="<i class='fa fa-spinner fa-spin'></i> Saving...">
                <i class="fa fa-check"></i> Save
        </button>
        <button class="btn btn-warning" 
                id="cancel_button" 
                type="button" 
                data-ng-click="cancel()">
                <i class="fa fa-times"></i> Close
        </button>
    </div>
</form>